<div class="barRecherche">
  <!--  Sélection du type de site. 
  <div class="type">
    <label for="type">Type :</label>
    <select id="type" (change)="selectionSelectors($event, 'type', true)">
      <option selected>Type</option>
      <option id="1">Site géré</option>
      <option id="2">CAST</option>
    </select>
  </div> -->

  <mat-form-field appearance="outline" class="type">
    <mat-label for="type">Type :</mat-label>
    <mat-select
      id="type"
      (selectionChange)="selectionSelectors($event, 'type', true)"
    >
      <mat-option value="Type" selected>Type</mat-option>
      <mat-option value="Site géré" id="1">Site géré</mat-option>
      <mat-option value="CAST" id="2">CAST</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="code">
    <!-- Sélection du code. -->
    <mat-form-field appearance="outline" ngClass="code">
      <mat-label ngClass="label" for="code">Code :</mat-label>
      <input
        matInput
        id="code"
        type="text"
        inputmode="numeric"
        pattern="[0-9]*"
        [formControl]="codeFormControl"
        (change)="stringChange($event)"
      />
      <mat-error *ngIf="codeFormControl.hasError('minlength')"
        >Code trop court</mat-error
      >
      <mat-error *ngIf="codeFormControl.hasError('pattern')"
        >Chiffres uniquement</mat-error
      >
      <!-- *ngIf="codeFormControl.value" : affiche le bouton clear si le code est renseigné -->
      <button
        ngClass="btn"
        *ngIf="codeFormControl.value"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="clearCode('code')"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>
  <!-- Sélection du nom. -->
  <mat-form-field appearance="outline" ngClass="nom">
    <mat-label ngClass="label" for="nom">Nom :</mat-label>
    <input
      matInput
      id="nom"
      type="text"
      [formControl]="nameFormControl"
      (change)="stringChange($event)"
    />
    <mat-error *ngIf="nameFormControl.hasError('minlength')"
      >Minimum 3 caractères</mat-error
    >
    <button
      ngClass="btn"
      *ngIf="nameFormControl.value"
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="clearCode('nom')"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <!-- Sélecteurs dynamiques. -->
  <div *ngFor="let selector of selectors">
    <label [for]="selector.name">{{ selector.name }} :</label>
    <select
      id="{{ selector.name }}"
      name="{{ selector.name }}"
      (change)="selectionSelectors($event, selector.name)"
    >
      <option value="" selected>Sélectionner {{ selector.name }}</option>
      <option *ngFor="let value of selector.values" [value]="value">
        {{ value }}
      </option>
    </select>
  </div>

  <!-- Validation du filtre.-->
  <div class="btn">
    <button (click)="productSelection()">Sélection des sites</button>
  </div>
</div>
